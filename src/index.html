<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Blockudoku</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Audiowide&family=Barlow+Semi+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');
    </style>
</head>
<body id="body">

<h1 class="title">Blockudoku</h1>
<div class="score-label" id="scoreLabel">
    <span class="score-label" id="scoreText">Score: {{ score }}</span>
    <span class="score-number" id="scoreValue">0</span>

    <!-- Confetti canvas -->
    <canvas id="scoreConfetti" width="160" height="90"></canvas>
</div>

<div class="flex-column gap-5 d-flex">
    <div class="content position-relative">
        <div id="grid-container" class="container">
        </div>
        <div class="position-absolute start-0 top-0 w-100 h-100">
            <div id="preview-grid-container" class="container">
            </div>
        </div>
    </div>
    <div class="row g-0 justify-content-center">
        <div class="col-auto" id="element-0"></div>
        <div class="col-auto" id="element-1" ></div>
        <div class="col-auto" id="element-2"></div>
    </div>
</div>

<button type="button" class="btn btn-primary-bd settings-btn" data-bs-toggle="modal" data-bs-target="#settingsModal">
    <i class="bi bi-gear-fill fs-4"></i>
</button>

<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" data-bs-theme="dark">
                <h5 class="modal-title" id="settingsModalLabel">Settings</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"
                        aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#gameTab"
                                type="button"
                                role="tab">Game</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#aboutTab"
                                type="button"
                                role="tab">About</button>
                    </li>
                </ul>

                <div class="tab-content mt-3">
                    <div class="tab-pane fade show active" id="gameTab" role="tabpanel">
                        <p class="sub-title">Multiplayer</p>
                        <div class="d-flex flex-row gap-2">
                            <button id="copy-session-link-btn"
                                    type="button"
                                    class="btn btn-primary btn-primary-bd"
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    data-bs-custom-class="long-tooltip"
                                    data-bs-title="Download your current game state in a json file"
                            >
                                Copy Link
                            </button>
                        </div>
                        <p class="sub-title">Color Settings</p>
                        <div class="drowdown mb-3">
                            <button class="btn btn-primary-bd dropdown-toggle" type="button" id="colorSchemeDropdown"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                Change Color Scheme
                            </button>
                            <ul class="dropdown-menu">
                                <li><button class="dropdown-item" id="btnAquatic">Aquatic</button></li>
                                <li><button class="dropdown-item" id="btnTropical">Tropical</button></li>
                                <li><button class="dropdown-item" id="btnHellfire">Hellfire</button></li>
                                <li><button class="dropdown-item" id="btnRetro">Retro</button></li>
                            </ul>
                        </div>
                        <p class="sub-title">Save and Load</p>
                        <div class="d-flex flex-row gap-2">
                                <button id="download-btn"
                                        type="button"
                                        class="btn btn-primary btn-primary-bd"
                                        data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Download your current game state in a json file">
                                    Save Game
                                </button>
                            <label class="btn btn-primary btn-primary-bd" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Upload a previously downloaded save file">
                                Upload Game
                                <input type="file" name="gameFile">
                            </label>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="aboutTab" role="tabpanel">
                        <p class="sub-title">
                            About
                        </p>
                        <p>This is a clone of the mobile game <a href="https://apps.apple.com/de/app/blockudoku-block-puzzle/id1452227871?l=en-GB" target="_blank">Blockudoku</a> written in Scala by
                            Florian Dritter and Tom Berger. <br>
                            This project is an academic project at HTWG Konstanz.
                        </p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary btn-primary-bd" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>